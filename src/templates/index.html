{% extends "base.html" %}

{% block title %}Warehouses - Warehouse App{% endblock %}

{% block content %}
<div class="container">
    <h1>Warehouses</h1>
    
    <a href="{{ url_for('create_warehouse') }}" class="btn btn-primary">
        Create New Warehouse
    </a>
    
    {% if warehouses %}
        <ul class="warehouse-list">
            {% for id, warehouse in warehouses.items() %}
                <li class="warehouse-item">
                    <div class="warehouse-info">
                        <h3>{{ warehouse.name }}</h3>
                        <p>
                            Products: {{ warehouse.products|length }} types | 
                            Used: {{ warehouse.products.values()|sum if warehouse.products else 0 }} |
                            Capacity: {{ warehouse.varasto.tilavuus }} |
                            Space left: {{ warehouse.varasto.tilavuus - (warehouse.products.values()|sum if warehouse.products else 0) }}
                        </p>
                    </div>
                    <a href="{{ url_for('view_warehouse', warehouse_id=id) }}" 
                       class="btn btn-secondary">View Details</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <div class="empty-state">
            <p>No warehouses yet. Create your first warehouse!</p>
        </div>
    {% endif %}
</div>
{% endblock %}
